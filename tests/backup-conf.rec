â€“â€“â€“ input â€“â€“â€“
cp /etc/manticoresearch/manticore.conf /tmp/
â€“â€“â€“ output â€“â€“â€“
â€“â€“â€“ block: start-searchd â€“â€“â€“
â€“â€“â€“ block: init-database â€“â€“â€“
â€“â€“â€“ input â€“â€“â€“
manticore-backup --version
â€“â€“â€“ output â€“â€“â€“
Copyright (c) %{YEAR}-%{YEAR}, Manticore Software LTD (https://manticoresearch.com)
Manticore Backup version: %{SEMVER}
â€“â€“â€“ input â€“â€“â€“
mysql -h0 -P9306 -e 'show tables'
â€“â€“â€“ output â€“â€“â€“
+---------------------+-------------+
| Index               | Type        |
+---------------------+-------------+
| distributed_index   | distributed |
| rt_with_columnar    | rt          |
| rt_without_columnar | rt          |
| test                | rt          |
+---------------------+-------------+
â€“â€“â€“ input â€“â€“â€“
manticore-backup --config=/etc/manticoresearch/manticore.conf --config=/tmp/manticore.conf --backup-dir=/tmp/
â€“â€“â€“ output â€“â€“â€“
Copyright (c) %{YEAR}-%{YEAR}, Manticore Software LTD (https://manticoresearch.com)
Manticore config file: /etc/manticoresearch/manticore.conf
Tables to backup: all tables
Backup dir: /tmp/
Manticore config
endpoint =  http://%{IPADDR}:9312
Manticore config
endpoint =  http://127.0.0.1:9312
Manticore versions:
manticore: %{SEMVER} %{COMMITDATE} dev
columnar: %{SEMVER} %{COMMITDATE}
secondary: %{SEMVER} %{COMMITDATE}
knn: %{SEMVER} %{COMMITDATE}
buddy: %{SEMVER}
[93m%{DATETIME}[0m [Info] Starting the backup...
[93m%{DATETIME}[0m [Info] Backing up config files...
[93m%{DATETIME}[0m [Info]   config files - [92mOK[0m
[93m%{DATETIME}[0m [Info] Backing up global state files...
[93m%{DATETIME}[0m [Info]   global state files â€“ [92mOK[0m
[93m%{DATETIME}[0m [Info] Backing up tables...
[93m%{DATETIME}[0m [Info]   distributed_index (distributed)...
[93m%{DATETIME}[0m [Info]   [93mSKIP[0m
[93m%{DATETIME}[0m [Info]   rt_with_columnar (rt) [2.915K]...
[93m%{DATETIME}[0m [Info]    [92mOK[0m
[93m%{DATETIME}[0m [Info]   rt_without_columnar (rt) [2.789K]...
[93m%{DATETIME}[0m [Info]    [92mOK[0m
[93m%{DATETIME}[0m [Info]   test (rt) [956B]...
[93m%{DATETIME}[0m [Info]    [92mOK[0m
[93m%{DATETIME}[0m [Info] Running sync
[93m%{DATETIME}[0m [Info]  [92mOK[0m
[93m%{DATETIME}[0m [Info] You can find backup here: /tmp/backup-%{NUMBER}
[93m%{DATETIME}[0m [Info] Elapsed time: #!/([0-9]+\.[0-9]+|0)/!#s
[93m%{DATETIME}[0m [Info] Done
[93m%{DATETIME}[0m [Info]
Unfreezing all tables...
[93m%{DATETIME}[0m [Info]   distributed_index...
[93m%{DATETIME}[0m [Info]    [92mOK[0m
[93m%{DATETIME}[0m [Info]   rt_with_columnar...
[93m%{DATETIME}[0m [Info]    [92mOK[0m
[93m%{DATETIME}[0m [Info]   rt_without_columnar...
[93m%{DATETIME}[0m [Info]    [92mOK[0m
[93m%{DATETIME}[0m [Info]   test...
[93m%{DATETIME}[0m [Info]    [92mOK[0m
â€“â€“â€“ input â€“â€“â€“
rm /etc/manticoresearch/manticore.conf; rm /tmp/manticore.conf
â€“â€“â€“ output â€“â€“â€“
â€“â€“â€“ input â€“â€“â€“
manticore-backup --backup-dir=/tmp/ --restore
â€“â€“â€“ output â€“â€“â€“
Copyright (c) 2023-2024, Manticore Software LTD (https://manticoresearch.com)
Manticore config file:
Backup dir: /tmp/
Available backups: 1
backup-%{NUMBER} ([93m#!/(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s\d{1,2}\s\d{4}\s\d{2}:\d{2}:\d{2}/!#[0m)
â€“â€“â€“ input â€“â€“â€“
find /tmp/backup-*/. -type f
â€“â€“â€“ output â€“â€“â€“
/tmp/backup-%{NUMBER}/./data/rt_with_columnar/rt_with_columnar.settings
/tmp/backup-%{NUMBER}/./data/rt_with_columnar/rt_with_columnar.ram
/tmp/backup-%{NUMBER}/./data/rt_with_columnar/rt_with_columnar.meta
/tmp/backup-%{NUMBER}/./data/test/test.meta
/tmp/backup-%{NUMBER}/./data/test/test.settings
/tmp/backup-%{NUMBER}/./data/test/test.ram
/tmp/backup-%{NUMBER}/./data/rt_without_columnar/rt_without_columnar.ram
/tmp/backup-%{NUMBER}/./data/rt_without_columnar/rt_without_columnar.settings
/tmp/backup-%{NUMBER}/./data/rt_without_columnar/rt_without_columnar.meta
/tmp/backup-%{NUMBER}/./config/tmp/manticore.conf
/tmp/backup-%{NUMBER}/./config/var/lib/manticore/manticore.json
/tmp/backup-%{NUMBER}/./config/etc/manticoresearch/manticore.conf
/tmp/backup-%{NUMBER}/./versions.json
